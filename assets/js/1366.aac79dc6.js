"use strict";(self.webpackChunkactix_website=self.webpackChunkactix_website||[]).push([[1366],{1366:function(e,n,s){s.r(n),n.default='#![allow(dead_code)]\n\n// <user-session>\nuse actix_session::{CookieSession, Session};\nuse actix_web::{web, App, Error, HttpResponse, HttpServer};\n\nasync fn index(session: Session) -> Result<HttpResponse, Error> {\n    // access session data\n    if let Some(count) = session.get::<i32>("counter")? {\n        session.insert("counter", count + 1)?;\n    } else {\n        session.insert("counter", 1)?;\n    }\n\n    Ok(HttpResponse::Ok().body(format!(\n        "Count is {:?}!",\n        session.get::<i32>("counter")?.unwrap()\n    )))\n}\n\n#[actix_web::main]\nasync fn main() -> std::io::Result<()> {\n    HttpServer::new(|| {\n        App::new()\n            .wrap(\n                CookieSession::signed(&[0; 32]) // <- create cookie based session middleware\n                    .secure(false),\n            )\n            .service(web::resource("/").to(index))\n    })\n    .bind(("127.0.0.1", 8080))?\n    .run()\n    .await\n}\n// </user-session>\n'}}]);