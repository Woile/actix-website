(self.webpackChunkactix_website=self.webpackChunkactix_website||[]).push([[8948],{1838:function(t){t.exports={rustVersion:"1.56",actixWebMajorVersion:"4"}},586:function(t,e,n){"use strict";n.r(e),n.d(e,{assets:function(){return m},contentTitle:function(){return d},default:function(){return f},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return h}});var r=n(7462),o=n(3366),s=(n(7294),n(3905)),i=n(3066),a=n(2536),p=n(1838),c=["components"],l={title:"HTTP/2"},d=void 0,u={unversionedId:"http2",id:"http2",title:"HTTP/2",description:"actix-web automatically upgrades connections to HTTP/2 if possible.",source:"@site/docs/http2.md",sourceDirName:".",slug:"/http2",permalink:"/docs/http2",draft:!1,editUrl:"https://github.com/actix/actix-website/docs/http2.md",tags:[],version:"current",frontMatter:{title:"HTTP/2"},sidebar:"docs",previous:{title:"Websockets",permalink:"/docs/websockets"},next:{title:"Auto-Reloading",permalink:"/docs/autoreload"}},m={},h=[],k={toc:h};function f(t){var e=t.components,n=(0,o.Z)(t,c);return(0,s.kt)("wrapper",(0,r.Z)({},k,n,{components:e,mdxType:"MDXLayout"}),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"actix-web")," automatically upgrades connections to ",(0,s.kt)("em",{parentName:"p"},"HTTP/2")," if possible."),(0,s.kt)("h1",{id:"negotiation"},"Negotiation"),(0,s.kt)("p",null,"When either of the ",(0,s.kt)("inlineCode",{parentName:"p"},"rustls")," or ",(0,s.kt)("inlineCode",{parentName:"p"},"openssl")," features are enabled, ",(0,s.kt)("inlineCode",{parentName:"p"},"HttpServer")," provides the ",(0,s.kt)("a",{parentName:"p",href:"https://docs.rs/actix-web/4/actix_web/struct.HttpServer.html#method.bind_rustls"},"bind_rustls")," method and ",(0,s.kt)("a",{parentName:"p",href:"https://docs.rs/actix-web/4/actix_web/struct.HttpServer.html#method.bind_openssl"},"bind_openssl")," methods, respectively."),(0,s.kt)(i.Z,{className:"language-toml",mdxType:"RenderCodeBlock"},'[dependencies]\nactix-web = { version = "'+p.actixWebMajorVersion+'", features = ["openssl"] }\nopenssl = { version = "0.10", features = ["v110"] }\n'),(0,s.kt)(a.Z,{example:"http2",file:"main.rs",section:"main",mdxType:"CodeBlock"}),(0,s.kt)("p",null,"Upgrades to HTTP/2 described in ",(0,s.kt)("a",{parentName:"p",href:"https://httpwg.org/specs/rfc7540.html#rfc.section.3.2"},"RFC 7540 \xa73.2")," are not supported. Starting HTTP/2 with prior knowledge is supported for both cleartext and TLS connections (",(0,s.kt)("a",{parentName:"p",href:"https://httpwg.org/specs/rfc7540.html#rfc.section.3.4"},"RFC 7540 \xa73.4"),") (when using the lower level ",(0,s.kt)("inlineCode",{parentName:"p"},"actix-http")," service builders)."),(0,s.kt)("blockquote",null,(0,s.kt)("p",{parentName:"blockquote"},"Check out ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/actix/examples/tree/master/https-tls"},"the TLS examples")," for concrete example.")))}f.isMDXComponent=!0}}]);