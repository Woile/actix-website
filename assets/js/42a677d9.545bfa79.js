"use strict";(self.webpackChunkactix_website=self.webpackChunkactix_website||[]).push([[4368],{2781:function(e,t,i){i.r(t),i.d(t,{assets:function(){return p},contentTitle:function(){return d},default:function(){return m},frontMatter:function(){return r},metadata:function(){return c},toc:function(){return u}});var s=i(7462),n=i(3366),a=(i(7294),i(3905)),o=i(2536),l=["components"],r={title:"Static Files"},d="Individual file",c={unversionedId:"static-files",id:"static-files",title:"Static Files",description:"It is possible to serve static files with a custom path pattern and NamedFile. To match a path tail, we can use a [.*] regex.",source:"@site/docs/static-files.md",sourceDirName:".",slug:"/static-files",permalink:"/docs/static-files",draft:!1,editUrl:"https://github.com/actix/actix-website/docs/static-files.md",tags:[],version:"current",frontMatter:{title:"Static Files"},sidebar:"docs",previous:{title:"Middleware",permalink:"/docs/middleware"},next:{title:"Websockets",permalink:"/docs/websockets"}},p={},u=[{value:"Directory",id:"directory",level:2},{value:"Configuration",id:"configuration",level:2}],f={toc:u};function m(e){var t=e.components,i=(0,n.Z)(e,l);return(0,a.kt)("wrapper",(0,s.Z)({},f,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"individual-file"},"Individual file"),(0,a.kt)("p",null,"It is possible to serve static files with a custom path pattern and ",(0,a.kt)("inlineCode",{parentName:"p"},"NamedFile"),". To match a path tail, we can use a ",(0,a.kt)("inlineCode",{parentName:"p"},"[.*]")," regex."),(0,a.kt)(o.Z,{example:"static-files",file:"main.rs",section:"individual-file",mdxType:"CodeBlock"}),(0,a.kt)("h2",{id:"directory"},"Directory"),(0,a.kt)("p",null,"To serve files from specific directories and sub-directories, ",(0,a.kt)("inlineCode",{parentName:"p"},"Files")," can be used. ",(0,a.kt)("inlineCode",{parentName:"p"},"Files")," must be registered with an ",(0,a.kt)("inlineCode",{parentName:"p"},"App::service()")," method, otherwise it will be unable to serve sub-paths."),(0,a.kt)(o.Z,{example:"static-files",file:"directory.rs",section:"directory",mdxType:"CodeBlock"}),(0,a.kt)("p",null,"By default files listing for sub-directories is disabled. Attempt to load directory listing will return ",(0,a.kt)("em",{parentName:"p"},"404 Not Found")," response. To enable files listing, use ",(0,a.kt)("a",{parentName:"p",href:"https://docs.rs/actix-files/0.2/actix_files/struct.Files.html"},(0,a.kt)("em",{parentName:"a"},"Files::show_files_listing()"))," method."),(0,a.kt)("p",null,"Instead of showing files listing for directory, it is possible to redirect to a specific index file. Use the ",(0,a.kt)("a",{parentName:"p",href:"https://docs.rs/actix-files/0.2/actix_files/struct.Files.html#method.index_file"},(0,a.kt)("em",{parentName:"a"},"Files::index_file()"))," method to configure this redirect."),(0,a.kt)("h2",{id:"configuration"},"Configuration"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"NamedFiles")," can specify various options for serving files:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"set_content_disposition")," - function to be used for mapping file's mime to corresponding ",(0,a.kt)("inlineCode",{parentName:"li"},"Content-Disposition")," type"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"use_etag")," - specifies whether ",(0,a.kt)("inlineCode",{parentName:"li"},"ETag")," shall be calculated and included in headers."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"use_last_modified")," - specifies whether file modified timestamp should be used and added to ",(0,a.kt)("inlineCode",{parentName:"li"},"Last-Modified")," header.")),(0,a.kt)("p",null,"All of the above methods are optional and provided with the best defaults, But it is possible to customize any of them."),(0,a.kt)(o.Z,{example:"static-files",file:"configuration.rs",section:"config-one",mdxType:"CodeBlock"}),(0,a.kt)("p",null,"The Configuration can also be applied to directory service:"),(0,a.kt)(o.Z,{example:"static-files",file:"configuration_two.rs",section:"config-two",mdxType:"CodeBlock"}))}m.isMDXComponent=!0}}]);